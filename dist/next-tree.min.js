/*!
 * name: @feizheng/next-tree
 * description: Tree data for next.
 * homepage: https://github.com/afeiship/next-tree
 * version: 1.4.0
 * date: 2020-08-26T08:57:12.883Z
 * license: MIT
 */
!function(){var r=(this||window||Function("return this")()).nx||require("@feizheng/next-js-core2"),e=r.deepClone||require("@feizheng/next-deep-clone"),o=r.traverse||require("@feizheng/next-traverse"),i={itemsKey:"children",clone:!0},n=r.declare("nx.Tree",{statics:{serialize:function(n){return JSON.parse(JSON.stringify(n))},create:function(n,t){return new this(n,t)}},methods:{init:function(n,t){this.options=r.mix(null,i,t),this.data=this.options.clone?e(n):n,this.attach()},attach:function(){var i=this.options;o(this.data,function(n,t,e){t.__parent__=function(){return e},t.__children__=function(){return t[i.itemsKey]||[]}},i)},traverse:function(n){o(this.data,n,this.options)},find:function(e){var i=null;return o(this.data,function(n,t){if(e.apply(null,arguments))return i=t,r.BREAKER},this.options),i},search:function(n){var r=this.options,t=e(this.data),o=function(n,i){return n.filter(function(n,t){var e=n[r.itemsKey];return!!(e&&e.length&&(e=n[r.itemsKey]=o(e,i)).length)||i(t,n)})};return o(t,n)},filter:function(e){var i=[];return o(this.data,function(n,t){e.apply(null,arguments)&&i.push(t)},this.options),i},ancestors:function(n){var t=[],e=this.find(n);if(e)for(var i=e.__parent__();i;)t.push(i),i=i.__parent__();return t},descendants:function(n){var t=this.find(n),e=[];return t&&o(t,function(n,t){e=e.concat(t.__children__())},this.options),e},parent:function(n){var t=this.find(n);return t&&t.__parent__()},children:function(n){var t=this.find(n);return t&&t.__children__()}}});"undefined"!=typeof module&&module.exports&&(module.exports=n)}();